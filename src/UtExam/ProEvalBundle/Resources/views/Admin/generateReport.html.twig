{% extends 'UtExamProEvalBundle:Admin:main.html.twig' %}
{% block Menu %}
  {% block search %}
  <section class="search-sec">
    <div class="container">
        <form action="#" method="post" novalidate="novalidate">
            <div class="row">
                <div class="col-lg-12">
                    <div class="row">
                        <div class="col-lg-3 col-md-3 col-sm-12 p-0">
                            <select class="form-control search-slt" id="selectTypeReporte">
                              <option value="0">Reporte</option>
                              <option value="1">Por generación</option>
                              <option value="2">Por grupo</option>
                            </select>
                        </div>
                         <div class="col-lg-3 col-md-3 col-sm-12 p-0 hide">
                            <select class="form-control search-slt" id="selectGen">
                              <option value="0">Generación</option>
                              {% for generation in generations %}
                                <option value="{{generation[1]}}">{{generation[1]}}</option>
                              {% endfor %}
                            </select>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-12 p-0 hide">
                          <select class="form-control search-slt" id="selectgrup">
                            <option value="0">Grupo</option>
                            {% for grupo in grupos %}
                              <option value="{{grupo.grupo}}">{{grupo.grupo}}</option>
                            {% endfor %}
                          </select>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-12 p-0 hide">
                          <select class="form-control search-slt" id="selectTurno">
                            <option value="0">Turno</option>
                            <option value="Vespertino">Vespertino</option>
  													<option value="Nocturno">Nocturno</option>
                          </select>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-12 p-0">
                            <button id="searchReport" type="button" class="btn btn-primary wrn-btn">Search</button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</section>
  {% endblock %}
{% block table %}
<div class="contentTable">
<table border="1">
			<caption>Tabla con combinación de filas</caption>
      <tr>
        <th>Turno</th>
        <th>Grupo</th>
        <th colspan="3">Calificacion de Entrada</th>
        <th colspan="3">Calificacion de Salida</th>
        <th>Maestro a cargo</th>
        <th>Promedio</th>
        <th>Porcentaje de mejora</th>
      </tr>
      <tr>
        <th></th>
        <th></th>
        <th>C.L.</th>
        <th>P.M</th>
        <th>Ing</th>
        <th>Promedio</th>
        <th>C.L.</th>
        <th>P.M</th>
        <th>Ing</th>
        <th>Promedio</th>
        <th>%</th>
      </tr>
			<tr>
				<td rowspan="4">Celda Combinada</td>
				<td>Celda 1</td>
        <th>12</th>
        <th>3</th>
        <th>no se</th>
        <th>10</th>
        <th>1%</th>
			</tr>
			<tr>
				<td>Celda 7</td>
			</tr>
      <tr>
				<td>Celda 7</td>
			</tr>
      <tr>
				<td>Celda 7</td>
			</tr>
		</table>
</div>
{% endblock %}
  <script type="text/javascript">
    $('#selectTypeReporte').on('change',function(){
      var typeReporte = document.getElementById('selectTypeReporte').value;
      var tipoExam = $('select[name=selectTipoExam]').val();
      if (parseInt(typeReporte)===0) {
        $("#selectGen").parent().addClass("hide");
        $("#selectgrup").parent().addClass("hide");
        $("#selectTurno").parent().addClass("hide");
      }
      if (parseInt(typeReporte)===1) {
        $("#selectGen").parent().removeClass("hide");
        $("#selectgrup").parent().addClass("hide");
        $("#selectTurno").parent().addClass("hide");
      }
      if (parseInt(typeReporte)===2) {
        $("#selectgrup").parent().removeClass("hide");
        $("#selectTurno").parent().removeClass("hide");
        $("#selectGen").parent().removeClass("hide");
      }
    });
  </script>
  {# <tr>
    <td>Total</td>
    <td>{{AlumnosPGT}}</td>
    <td>{{(CalificacionGET / AlumnosPGT)|slice(0, 5)}}</td>
    <td>{{(CalificacionGST / AlumnosPGT)|slice(0, 5)}}</td>
    <td>{{Maestro}}</td>
    <td>{{(((CalificacionGST / AlumnosPGT) + (CalificacionGET / AlumnosPGT)) / 2)|slice(0, 5)}}</td>
    {% set Porcentaje = (CalificacionGST / AlumnosPGT) - (CalificacionGET / AlumnosPGT) %}
    {% if Porcentaje >= 0 %}
      {% if Porcentaje == 0 %}
        <td>
          {{Porcentaje}}%
        </td>
      {% else %}
        <td class="text-success">
      {% if (CalificacionGET / AlumnosPGT) == 0 %}
        {{ ((Porcentaje / 1) * 100)|slice(0, 5) }}%
      {% else %}
        {{ ((Porcentaje / (CalificacionGET / AlumnosPGT)) * 100)|slice(0, 5) }}%
      {% endif %}
        </td>
      {% endif %}
    {% else %}
      <td class="text-danger" >
      {% set Porcentaje = (CalificacionGET / AlumnosPGT) - (CalificacionGST / AlumnosPGT) %}
      {% if (CalificacionGET / AlumnosPGT) == 0 %}
        -{{ ((Porcentaje / 1) * 100)|slice(0, 5) }}%
      {% else %}
        -{{ ((Porcentaje / (CalificacionGET / AlumnosPGT)) * 100)|slice(0, 5) }}%
      {% endif %}
      </td>
    {% endif %}
  </tr> #}
{% endblock %}
